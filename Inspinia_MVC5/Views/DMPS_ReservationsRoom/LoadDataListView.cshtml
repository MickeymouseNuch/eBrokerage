<div class="wrapper wrapper-content" style="padding-top:0px">
    <div class="row">
        <div class="col-lg-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title" style="padding-top:10px">
                    <h4>รายการจอง เช่าห้องชุด/ซื้อห้องชุด</h4>

                    <div class="ibox-tools">
                        <a class="close-link">
                            <i class="fa fa-times"></i>
                        </a>
                    </div>
                </div>
                <div class="ibox-content">
                    <div class="row" id="" style="">
                        <div id="" class="col-lg-12" style="">
                            <table id="" class="table table-striped table-bordered table-hover dataTables-example dataTable" style="width:1800px;">
                                <thead>
                                    <tr>
                                        <th>No.</th>
                                        <th style="width:150px"></th>
                                        <th style="width:100px">เลขที่เอกสาร</th>
                                        <th>โครงการ</th>
                                        <th>ห้อง</th>
                                        <th>ชั้น</th>
                                        <th>พื้นที่</th>
                                        <th>ประเภทห้อง</th>
                                        <th>ประเภทการเช่า</th>
                                        <th style="width:100px">สถานะ</th>
                                        <th style="width:100px">วันที่ยกเลิก</th>
                                        <th>เจ้าของห้อง</th>
                                        <th>เบอร์ติดต่อ</th>
                                        <th>ราคาเช่า</th>
                                        <th>ราคาขาย</th>
                                        <th>หมายเหตุยกเลิกจอง</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @{int i = 1; }
                                    @foreach (Inspinia_MVC5.Models.DMPS.vw_Reservations item in ViewBag.lstRental)
                                    {
                                    <tr class="IsRows" data-dsid="@item.DepositID" data-cust="@item.DSContactID" data-uid="@item.UnitID" data-rvtid="@item.ReservationsID">
                                        <td class="text-right"> @i </td>
                                        <td class="text-left">

                                            <button data-dsid="@item.DepositID" data-cust="@item.DSContactID" data-uid="@item.UnitID" data-rvtid="@item.ReservationsID" class="confirm-View btnVED btn-primary" title="แสดงข้อมูล" type="button"><i class="fa fa-search"></i></button>



                                            @if (item.ReservationsID != 0 && item.UnitSatatusID != 5 && item.ISContact == 0)
                                            {
                                                if (item.RoomType != "SHOP")
                                                {
                                                    <button data-dsid="@item.DepositID" data-cust="@item.DSContactID" data-uid="@item.UnitID" data-rvtid="@item.ReservationsID" data-rvtype="@item.ReservationsType.TrimEnd()" class="confirm-Print btnVED btn-warning" title="พิมพ์ใบจอง" type="button"><i class="fa fa fa-print"></i></button>

                                                }
                                                else
                                                {
                                                    <button data-dsid="@item.DepositID" data-cust="@item.DSContactID" data-uid="@item.UnitID" data-rvtid="@item.ReservationsID" data-rvtype="@item.ReservationsType.TrimEnd()" class="confirm-PrintShop btnVED btn-warning" type="button" title="พิมพ์สัญญา SHOP"><i class="fa fa fa-print"></i></button>

                                                }
                                                <button data-dsid="@item.DepositID" data-cust="@item.DSContactID" data-rvcust="@item.RVCustomerID" data-uid="@item.UnitID" data-rvtype="@item.ReservationsType.TrimEnd()" data-rvtid="@item.ReservationsID" data-rvst="@item.UnitSatatusID" class="confirm-New btnVED btn-info" type="button" title="ทำสัญญา"><i class="fa fa-files-o"></i></button>
                                                <button data-dsid="@item.DepositID" data-cust="@item.DSContactID" data-uid="@item.UnitID" data-rvtid="@item.ReservationsID" data-rvtype="@item.ReservationsType.TrimEnd()" class="confirm-trash btnVED btn-danger" type="button" title="ยกเลิกใบจอง"><i class="fa fa-trash"></i></button>
                                            }



                                            @if (item.ISContact == 1)
                                            {
                                                if (item.RoomType != "SHOP")
                                                {
                                                    <button data-dsid="@item.DepositID" data-cust="@item.DSContactID" data-uid="@item.UnitID" data-rvtid="@item.ReservationsID" data-rvtype="@item.ReservationsType.TrimEnd()" class="confirm-Print btnVED btn-warning" title="พิมพ์ใบจอง" type="button"><i class="fa fa fa-print"></i></button>

                                                }
                                                else
                                                {
                                                    <button data-dsid="@item.DepositID" data-cust="@item.DSContactID" data-uid="@item.UnitID" data-rvtid="@item.ReservationsID" data-rvtype="@item.ReservationsType.TrimEnd()" class="confirm-PrintShop btnVED btn-warning" title="พิมพ์ใบจอง SHOP" type="button"><i class="fa fa fa-print"></i></button>

                                                }

                                            }

                                            @* cancel-form *@
                                            @if (item.UnitCls == "label-danger")
                                            {
                                                <button data-dsid="@item.DepositID" data-cust="@item.DSContactID" data-uid="@item.UnitID" data-rvtid="@item.ReservationsID" data-rvtype="@item.ReservationsType.TrimEnd()" class="confirm-trashForm btnVED btn-warning" type="button" title="แบบอนุมัติยกเลิกหนังสือจองเช่าห้องชุด" style="background-color: chocolate;"><i class="fa fa-print"></i></button>
                                            }

                                            <button id="UploadDS" data-uid="@item.UnitID" data-cust="@item.DSContactID" data-dsid="@item.DepositID" data-rvtid="@item.ReservationsID" data-rvtype="@item.ReservationsType.TrimEnd()" class="confirm-UploadDS btnVED btn-success" title="อัพโหลดเอกสาร" type="button"><i class="fa fa-file-text"></i></button>

                                        </td>

                                        <td style="color:blue">
                                            @item.ReservationsNo
                                        </td>

                                        <td> @item.ProjectName </td>
                                        <td> @item.UnitsCode </td>
                                        <td> @item.Floor </td>
                                        <td> @item.RoomArea </td>
                                        <td> @item.RoomType </td>
                                        <td><label class="label @item.RentCls">@item.RentTypeNameTH</label></td>
                                        <td>
                                            @if (item.ISContact == 0)
                                            {<label class="label @item.UnitCls">@item.DescriptionTH</label> }
                                        else
                                        { <label class="label @item.UnitCls">@item.DescriptionTH  ทำสัญญา </label>}

                                        </td>
                                        <td>
                                            @if (item.UnitCls == "label-danger")
                                            {<p>@(item.ReviseDateTime != null ? ((DateTime)item.ReviseDateTime).ToString("dd/MM/yyyy") : "")</p> }
                                        else
                                        { <p> </p>}
                                        </td>
                                        <td> @item.FirstName </td>
                                        <td> @item.Tel1 </td>
                                        <td> @item.RentPriceStart.GetValueOrDefault().ToString("###,##0.00") - @item.RentPriceEnd.GetValueOrDefault().ToString("###,##0.00") </td>
                                        <td> @item.SalePriceStart.GetValueOrDefault().ToString("###,##0.00") - @item.SalePriceEnd.GetValueOrDefault().ToString("###,##0.00") </td>
                                        <td> @item.Remark_Cancel </td>
                                    </tr>
                                        i++;
                                    }

                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



